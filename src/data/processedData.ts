// Auto-generated from CSV data
// Last updated: 2025-10-03 15:19:44

export interface YearStats {
  year: number;
  total_participants: number;
  finishers: number;
  dnf_count: number;
  dnf_rate: number;
  avg_time_minutes: number;
  categories: Record<string, number>;
  top_nationalities: Record<string, number>;
}

export const raceData: YearStats[] = [
  {
    "year": 2003,
    "total_participants": 67,
    "finishers": 67,
    "dnf_count": 0,
    "dnf_rate": 0.0,
    "avg_time_minutes": 1890.3,
    "categories": {
      "V1F": 4,
      "V1H": 22,
      "V3H": 2,
      "SEH": 25,
      "V2H": 11,
      "SEF": 3
    },
    "top_nationalities": {
      "BE": 1,
      "CH": 1,
      "CZ": 1,
      "IT": 5,
      "ES": 2,
      "US": 3,
      "DE": 5,
      "NL": 1,
      "Fr": 21,
      "SI": 1
    }
  },
  {
    "year": 2004,
    "total_participants": 1376,
    "finishers": 418,
    "dnf_count": 958,
    "dnf_rate": 69.62,
    "avg_time_minutes": 2250.0,
    "categories": {
      "ES H": 11,
      "V1 F": 51,
      "V3 F": 5,
      "SE H": 512,
      "SE F": 38,
      "V2 H": 222,
      "V3 H": 31,
      "V1 H": 482,
      "V4 H": 3,
      "JU H": 3,
      "V2 F": 18
    },
    "top_nationalities": {
      "Fr": 158,
      "None": 957,
      "PT": 1,
      "BE": 12,
      "DE": 19,
      "SI": 1,
      "LU": 2,
      "DK": 2,
      "Es": 2,
      "US": 6
    }
  },
  {
    "year": 2005,
    "total_participants": 1922,
    "finishers": 773,
    "dnf_count": 1149,
    "dnf_rate": 59.78,
    "avg_time_minutes": 2258.3,
    "categories": {
      "SE F": 68,
      "V3 H": 55,
      "V4 H": 4,
      "V1 F": 66,
      "V1 H": 736,
      "V2 H": 302,
      "V3 F": 8,
      "ES H": 11,
      "V2 F": 28,
      "SE H": 644
    },
    "top_nationalities": {
      "LU": 7,
      "IE": 2,
      "GB": 28,
      "FR": 378,
      "It": 3,
      "Es": 2,
      "AT": 8,
      "Fr": 200,
      "DE": 21,
      "HR": 1
    }
  },
  {
    "year": 2006,
    "total_participants": 2535,
    "finishers": 1152,
    "dnf_count": 1383,
    "dnf_rate": 54.56,
    "avg_time_minutes": 2285.0,
    "categories": {
      "V1 H": 976,
      "V2 H": 402,
      "V4 H": 6,
      "ES F": 2,
      "V3 H": 59,
      "V4 F": 1,
      "V1 F": 74,
      "V2 F": 38,
      "SE H": 891,
      "ES H": 10,
      "SE F": 73,
      "V3 F": 3
    },
    "top_nationalities": {
      "Es": 23,
      "LU": 5,
      "TN": 3,
      "DK": 5,
      "It": 7,
      "Fr": 223,
      "US": 4,
      "Be": 6,
      "No": 1,
      "GR": 1
    }
  },
  {
    "year": 2007,
    "total_participants": 2314,
    "finishers": 1437,
    "dnf_count": 877,
    "dnf_rate": 37.9,
    "avg_time_minutes": 2308.3,
    "categories": {
      "SE H": 746,
      "V1 H": 910,
      "ES H": 8,
      "V1 F": 77,
      "V3 F": 2,
      "V2 F": 35,
      "V4 H": 2,
      "V3 H": 68,
      "SE F": 60,
      "V2 H": 406
    },
    "top_nationalities": {
      "AT": 7,
      "BE": 23,
      "GB": 62,
      "CA": 2,
      "LV": 1,
      "AU": 3,
      "NP": 1,
      "FI": 1,
      "IS": 2,
      "SE": 1
    }
  },
  {
    "year": 2008,
    "total_participants": 2376,
    "finishers": 1268,
    "dnf_count": 1108,
    "dnf_rate": 46.63,
    "avg_time_minutes": 2380.7,
    "categories": {
      "SE F": 56,
      "V3 F": 2,
      "SE H": 773,
      "V2 H": 417,
      "V1 H": 918,
      "V4 H": 2,
      "V2 F": 28,
      "V1 F": 86,
      "V3 H": 87,
      "ES H": 7
    },
    "top_nationalities": {
      "None": 1108,
      "AU": 1,
      "JP": 1,
      "PL": 1,
      "LU": 1,
      "TN": 2,
      "GB": 42,
      "GR": 5,
      "SE": 1,
      "BE": 24
    }
  },
  {
    "year": 2009,
    "total_participants": 2286,
    "finishers": 1383,
    "dnf_count": 903,
    "dnf_rate": 39.5,
    "avg_time_minutes": 2389.8,
    "categories": {
      "V1 H": 956,
      "V4 H": 4,
      "V2 H": 379,
      "SE H": 700,
      "SE F": 69,
      "V3 H": 61,
      "ES F": 1,
      "ES H": 7,
      "V3 F": 3,
      "V2 F": 37,
      "V1 F": 69
    },
    "top_nationalities": {
      "AT": 11,
      "CH": 54,
      "FR": 791,
      "GB": 73,
      "FI": 1,
      "NL": 4,
      "PT": 10,
      "PL": 2,
      "US": 18,
      "LV": 3
    }
  },
  {
    "year": 2010,
    "total_participants": 2495,
    "finishers": 0,
    "dnf_count": 2495,
    "dnf_rate": 100.0,
    "avg_time_minutes": 0,
    "categories": {
      "SE F": 59,
      "V3 F": 4,
      "V2 H": 449,
      "V1 H": 992,
      "SE H": 785,
      "V2 F": 31,
      "ES F": 1,
      "V1 F": 88,
      "V4 H": 7,
      "V3 H": 74,
      "ES H": 5
    },
    "top_nationalities": {
      "None": 2495
    }
  },
  {
    "year": 2011,
    "total_participants": 2368,
    "finishers": 1133,
    "dnf_count": 1235,
    "dnf_rate": 52.15,
    "avg_time_minutes": 2404.8,
    "categories": {
      "V4 H": 6,
      "V3 F": 3,
      "V1 H": 969,
      "SE F": 71,
      "ES H": 4,
      "V3 H": 74,
      "V1 F": 80,
      "V2 H": 425,
      "V2 F": 32,
      "SE H": 704
    },
    "top_nationalities": {
      "BE": 18,
      "SE": 5,
      "FR": 574,
      "DK": 3,
      "CA": 3,
      "UA": 1,
      "PH": 2,
      "JP": 55,
      "SK": 1,
      "CZ": 2
    }
  },
  {
    "year": 2012,
    "total_participants": 2481,
    "finishers": 2122,
    "dnf_count": 359,
    "dnf_rate": 14.47,
    "avg_time_minutes": 1225.4,
    "categories": {
      "V3 F": 5,
      "V2 H": 438,
      "V4 H": 2,
      "V3 H": 64,
      "ES H": 2,
      "SE F": 70,
      "V2 F": 43,
      "SE H": 771,
      "V1 H": 990,
      "V1 F": 96
    },
    "top_nationalities": {
      "NZ": 2,
      "SK": 3,
      "TN": 1,
      "FR": 1016,
      "AR": 11,
      "HR": 9,
      "HU": 11,
      "PA": 1,
      "RS": 1,
      "CA": 8
    }
  },
  {
    "year": 2013,
    "total_participants": 2468,
    "finishers": 1686,
    "dnf_count": 782,
    "dnf_rate": 31.69,
    "avg_time_minutes": 2370.3,
    "categories": {
      "V4 H": 4,
      "ES H": 5,
      "SE F": 85,
      "V2 H": 440,
      "V2 F": 44,
      "SE H": 750,
      "V3 F": 2,
      "V1 H": 986,
      "V1 F": 92,
      "V3 H": 60
    },
    "top_nationalities": {
      "IL": 3,
      "IT": 140,
      "KR": 2,
      "SE": 10,
      "CZ": 8,
      "DE": 67,
      "None": 782,
      "RU": 2,
      "SK": 1,
      "EC": 2
    }
  },
  {
    "year": 2014,
    "total_participants": 2431,
    "finishers": 1582,
    "dnf_count": 849,
    "dnf_rate": 34.92,
    "avg_time_minutes": 2385.1,
    "categories": {
      "ES H": 4,
      "V3 F": 6,
      "ES F": 1,
      "V2 H": 422,
      "V4 H": 3,
      "SE H": 787,
      "V1 F": 86,
      "V1 H": 955,
      "V2 F": 29,
      "SE F": 77,
      "V3 H": 61
    },
    "top_nationalities": {
      "SI": 2,
      "NL": 5,
      "CN": 19,
      "LV": 7,
      "TR": 3,
      "US": 51,
      "IN": 1,
      "PT": 23,
      "None": 849,
      "HR": 1
    }
  },
  {
    "year": 2015,
    "total_participants": 2561,
    "finishers": 1631,
    "dnf_count": 930,
    "dnf_rate": 36.31,
    "avg_time_minutes": 2395.6,
    "categories": {
      "V3 H": 60,
      "SE H": 777,
      "V1 F": 91,
      "ES H": 2,
      "V2 F": 36,
      "SE F": 89,
      "V2 H": 464,
      "V1 H": 1033,
      "V3 F": 6,
      "V4 H": 3
    },
    "top_nationalities": {
      "SG": 2,
      "NO": 3,
      "MY": 3,
      "SV": 1,
      "UA": 1,
      "MX": 2,
      "IT": 126,
      "GR": 11,
      "IL": 1,
      "PL": 48
    }
  },
  {
    "year": 2016,
    "total_participants": 2554,
    "finishers": 1468,
    "dnf_count": 1086,
    "dnf_rate": 42.52,
    "avg_time_minutes": 2420.8,
    "categories": {
      "ES H": 2,
      "V1 H": 1028,
      "V2 H": 412,
      "SE F": 104,
      "V2 F": 43,
      "V4 H": 2,
      "V3 H": 60,
      "V1 F": 107,
      "V3 F": 3,
      "SE H": 793
    },
    "top_nationalities": {
      "IL": 2,
      "JP": 83,
      "CR": 1,
      "LV": 6,
      "KR": 3,
      "GB": 93,
      "SK": 5,
      "MY": 2,
      "CH": 31,
      "SE": 13
    }
  },
  {
    "year": 2017,
    "total_participants": 2535,
    "finishers": 1687,
    "dnf_count": 848,
    "dnf_rate": 33.45,
    "avg_time_minutes": 2357.7,
    "categories": {
      "V1 F": 108,
      "V1 H": 1036,
      "SE F": 95,
      "V4 H": 5,
      "V2 F": 38,
      "ES H": 3,
      "V3 H": 57,
      "V3 F": 1,
      "V2 H": 434,
      "SE H": 758
    },
    "top_nationalities": {
      "FI": 7,
      "NO": 5,
      "ID": 2,
      "EC": 2,
      "TN": 1,
      "LV": 3,
      "IL": 1,
      "ZA": 3,
      "PH": 5,
      "BG": 8
    }
  }
];


// Helper: Get total participants across all years
export const getTotalParticipants = (): number => {
  return raceData.reduce((sum, year) => sum + year.total_participants, 0);
};

// Helper: Get overall DNF rate
export const getOverallDNFRate = (): number => {
  const totalParticipants = raceData.reduce((sum, y) => sum + y.total_participants, 0);
  const totalDNF = raceData.reduce((sum, y) => sum + y.dnf_count, 0);
  return totalParticipants > 0 ? (totalDNF / totalParticipants) * 100 : 0;
};

// Helper: Get all unique categories
export const getAllCategories = (): string[] => {
  const categories = new Set<string>();
  raceData.forEach(year => {
    Object.keys(year.categories).forEach(cat => categories.add(cat));
  });
  return Array.from(categories).sort();
};

// Helper: Get top nationalities across all years
export const getTopNationalities = (limit: number = 10): Record<string, number> => {
  const combined: Record<string, number> = {};
  raceData.forEach(year => {
    Object.entries(year.top_nationalities).forEach(([nat, count]) => {
      combined[nat] = (combined[nat] || 0) + count;
    });
  });
  return Object.fromEntries(
    Object.entries(combined)
      .sort((a, b) => b[1] - a[1])
      .slice(0, limit)
  );
};
